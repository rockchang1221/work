<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>夢想航班查詢系統</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
    <h1>🎫 夢想航班查詢</h1>

    <div class="search-bar">
      <input type="text" id="studentId" placeholder="請輸入學生編號（例如 A1234）">
      <button onclick="searchTicket()">查詢</button>
    </div>

    <div id="ticket" class="ticket">
      <div class="status-line">
        <span class="status success">✅ 已出票</span>
        <span class="reminder">請提早抵達學測考場報到</span>
      </div>

      <div class="flight-summary">
        <div class="flight-info">
          <span class="route">台灣高三學生中心 → 夢想大學</span>
          <span class="date">考試日：2026 / 01 / 17</span>
        </div>
      </div>

      <div class="info-section">
        <div class="info-item">
          <label>姓名</label>
          <div id="ticketName">--</div>
        </div>
        <div class="info-item">
          <label>編號</label>
          <div id="ticketId">--</div>
        </div>
        <div class="info-item">
          <label>目標學校</label>
          <div id="ticketSchool">--</div>
        </div>
        <div class="info-item">
          <label>科系</label>
          <div id="ticketDept">--</div>
        </div>
        <div class="info-item">
          <label>目標成績</label>
          <div id="ticketScore">--</div>
        </div>
        <div class="info-item full">
          <label>備註</label>
          <div id="ticketQuote">--</div>
        </div>
      </div>
    </div>

    <div id="notFound" class="not-found">
      ❌ 查無此機票，請確認輸入的編號是否正確。
    </div>
  </div>

  <script>
    let students = [];

    fetch('./students.json')
      .then(res => res.json())
      .then(data => students = data)
      .catch(err => console.error('讀取資料錯誤', err));

    function searchTicket() {
      const id = document.getElementById('studentId').value.trim();
      const student = students.find(s => s.id === id);

      const card = document.getElementById('ticket');
      const notFound = document.getElementById('notFound');

      if (student) {
        document.getElementById('ticketName').textContent = student.name;
        document.getElementById('ticketId').textContent = student.id;
        document.getElementById('ticketSchool').textContent = student.school;
        document.getElementById('ticketDept').textContent = student.department;
        document.getElementById('ticketScore').textContent = student.score;
        document.getElementById('ticketQuote').textContent = `“${student.quote}”`;

        card.style.display = 'block';
        notFound.style.display = 'none';
      } else {
        card.style.display = 'none';
        notFound.style.display = 'block';
      }
    }
  </script>

</body>
</html>
