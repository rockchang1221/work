<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>å¤¢æƒ³èˆªç­æŸ¥è©¢ç³»çµ±</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
    <h1>ğŸ« å¤¢æƒ³èˆªç­æŸ¥è©¢</h1>

    <div class="search-bar">
      <input type="text" id="studentId" placeholder="è«‹è¼¸å…¥å­¸ç”Ÿç·¨è™Ÿï¼ˆä¾‹å¦‚ A1234ï¼‰">
      <button onclick="searchTicket()">æŸ¥è©¢</button>
    </div>

    <div id="ticket" class="ticket">
      <div class="status-line">
        <span class="status success">âœ… å·²å‡ºç¥¨</span>
        <span class="reminder">è«‹ææ—©æŠµé”å­¸æ¸¬è€ƒå ´å ±åˆ°</span>
      </div>

      <div class="flight-summary">
        <div class="flight-info">
          <span class="route">å°ç£é«˜ä¸‰å­¸ç”Ÿä¸­å¿ƒ â†’ å¤¢æƒ³å¤§å­¸</span>
          <span class="date">è€ƒè©¦æ—¥ï¼š2026 / 01 / 17</span>
        </div>
      </div>

      <div class="info-section">
        <div class="info-item">
          <label>å§“å</label>
          <div id="ticketName">--</div>
        </div>
        <div class="info-item">
          <label>ç·¨è™Ÿ</label>
          <div id="ticketId">--</div>
        </div>
        <div class="info-item">
          <label>ç›®æ¨™å­¸æ ¡</label>
          <div id="ticketSchool">--</div>
        </div>
        <div class="info-item">
          <label>ç§‘ç³»</label>
          <div id="ticketDept">--</div>
        </div>
        <div class="info-item">
          <label>ç›®æ¨™æˆç¸¾</label>
          <div id="ticketScore">--</div>
        </div>
        <div class="info-item full">
          <label>å‚™è¨»</label>
          <div id="ticketQuote">--</div>
        </div>
      </div>
    </div>

    <div id="notFound" class="not-found">
      âŒ æŸ¥ç„¡æ­¤æ©Ÿç¥¨ï¼Œè«‹ç¢ºèªè¼¸å…¥çš„ç·¨è™Ÿæ˜¯å¦æ­£ç¢ºã€‚
    </div>
  </div>

  <script>
    let students = [];

    fetch('./students.json')
      .then(res => res.json())
      .then(data => students = data)
      .catch(err => console.error('è®€å–è³‡æ–™éŒ¯èª¤', err));

    function searchTicket() {
      const id = document.getElementById('studentId').value.trim();
      const student = students.find(s => s.id === id);

      const card = document.getElementById('ticket');
      const notFound = document.getElementById('notFound');

      if (student) {
        document.getElementById('ticketName').textContent = student.name;
        document.getElementById('ticketId').textContent = student.id;
        document.getElementById('ticketSchool').textContent = student.school;
        document.getElementById('ticketDept').textContent = student.department;
        document.getElementById('ticketScore').textContent = student.score;
        document.getElementById('ticketQuote').textContent = `â€œ${student.quote}â€`;

        card.style.display = 'block';
        notFound.style.display = 'none';
      } else {
        card.style.display = 'none';
        notFound.style.display = 'block';
      }
    }
  </script>

</body>
</html>
