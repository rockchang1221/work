<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <title>å¤¢æƒ³èˆªç­æŸ¥è©¢ç³»çµ±</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <h1>ğŸ« å¤¢æƒ³èˆªç­æŸ¥è©¢ç³»çµ±</h1>

  <div class="search-box">
    <input type="text" id="studentId" placeholder="è¼¸å…¥å­¸ç”Ÿç·¨è™Ÿ">
    <button onclick="searchTicket()">æŸ¥è©¢</button>
  </div>

  <div class="ticket" id="ticketCard">
    <div class="airline">âœˆï¸ OOè£œç¿’ç­ | å¤¢èˆªè¨ˆç•«å°ˆå±¬æ©Ÿç¥¨</div>
    <h2 id="ticketName">ä¹˜å®¢ï¼š</h2>
    <div class="info"><span class="label">ç·¨è™Ÿï¼š</span><span id="ticketId"></span></div>
    <div class="info"><span class="label">å‡ºç™¼æ—¥ï¼š</span><span id="ticketDate">2026/01/17</span></div>
    <div class="info"><span class="label">é è¨ˆç›®çš„åœ°ï¼š</span><span id="ticketSchool"></span>ï¼ˆ<span id="ticketDept"></span>ï¼‰</div>
    <div class="info"><span class="label">åº§ä½ï¼š</span><span id="ticketSeat"></span></div>
    <div class="info"><span class="label">æˆç¸¾ç›®æ¨™ï¼š</span><span id="ticketScore"></span></div>
    <div class="quote" id="ticketQuote"></div>
  </div>

  <div class="not-found" id="notFound">âŒ æŸ¥ç„¡æ­¤æ©Ÿç¥¨ï¼Œè«‹ç¢ºèªç·¨è™Ÿæ˜¯å¦æ­£ç¢º</div>

  <script>
    let students = [];

    fetch('./students.json')
      .then(res => res.json())
      .then(data => students = data)
      .catch(err => console.error('è®€å–è³‡æ–™éŒ¯èª¤', err));

    function searchTicket() {
      const idInput = document.getElementById('studentId').value.trim();
      const student = students.find(s => s.id === idInput);

      const card = document.getElementById('ticketCard');
      const notFound = document.getElementById('notFound');

      if (student) {
        document.getElementById('ticketName').textContent = `ä¹˜å®¢ï¼š${student.name}`;
        document.getElementById('ticketId').textContent = student.id;
        document.getElementById('ticketSchool').textContent = student.school;
        document.getElementById('ticketDept').textContent = student.department;
        document.getElementById('ticketSeat').textContent = randomSeat();
        document.getElementById('ticketScore').textContent = student.score;
        document.getElementById('ticketQuote').textContent = `â€œ${student.quote}â€`;

        card.style.display = 'flex';
        notFound.style.display = 'none';
      } else {
        card.style.display = 'none';
        notFound.style.display = 'block';
      }
    }

    function randomSeat() {
      const row = Math.floor(Math.random() * 30) + 1;
      const col = ['A', 'B', 'C', 'D', 'E', 'F'][Math.floor(Math.random() * 6)];
      return `${row}${col}`;
    }
  </script>

</body>
</html>
